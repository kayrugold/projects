<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Prime Splitter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { background-color: #0f172a; color: white; font-family: 'Courier New', monospace; }
        .highlight-box { transition: all 0.3s ease; }
    </style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">

const App = () => {
    const [n, setN] = React.useState(11); // Default to user's image

    // Math Logic
    const blackBlocks = (n * (n + 1)) / 2;
    const whiteBlocks = (n * (n - 1)) / 2;
    const totalBlocks = n * n;

    const isPrime = (num) => {
        if (num <= 1) return false;
        if (num <= 3) return true;
        if (num % 2 === 0 || num % 3 === 0) return false;
        for (let i = 5; i * i <= num; i += 6) {
            if (num % i === 0 || num % (i + 2) === 0) return false;
        }
        return true;
    };

    const isNPrime = isPrime(n);

    // Factor Calculation:
    // T_n = n * (n+1)/2. If n is prime, it is n * k.
    // k = (n+1)/2
    const blackFactor = (n + 1) / 2;
    
    // T_{n-1} = n * (n-1)/2. If n is prime, it is n * j.
    // j = (n-1)/2
    const whiteFactor = (n - 1) / 2;

    // Visualize the Factors (Columns logic)
    const renderFactorCols = (count, color, label) => {
        // We want to show that 66 = 11 columns of height 6
        // But geometrically it's a triangle.
        // Let's just show the math card.
        return (
            <div className={`p-4 rounded-lg border ${color === 'black' ? 'bg-slate-800 border-slate-600' : 'bg-blue-900/20 border-blue-500'} flex flex-col items-center`}>
                <div className="text-xs uppercase tracking-widest mb-2 opacity-70">{label} Triangle</div>
                <div className="text-3xl font-bold mb-2">{count}</div>
                
                {/* The Factorization Display */}
                <div className="flex items-center gap-2 text-sm font-mono bg-black/30 px-3 py-1 rounded">
                    <span className="text-yellow-400 font-bold">{n}</span>
                    <span>Ã—</span>
                    <span className="text-white">{color === 'black' ? blackFactor : whiteFactor}</span>
                    <span>=</span>
                    <span>{count}</span>
                </div>
                
                <div className="mt-2 text-[10px] text-center text-slate-400">
                    {Number.isInteger(blackFactor) && color === 'black' ? "Perfect Integer Split" : ""}
                    {Number.isInteger(whiteFactor) && color === 'white' ? "Perfect Integer Split" : ""}
                    {!Number.isInteger(color === 'black' ? blackFactor : whiteFactor) ? "Fractional (Not Prime Pattern)" : ""}
                </div>
            </div>
        );
    };

    return (
        <div className="min-h-screen flex flex-col items-center justify-center bg-slate-950 p-4">
            
            <div className="text-center mb-10">
                <h1 className="text-3xl font-bold text-white mb-2">THE PRIME <span className="text-yellow-400">SPLITTER</span></h1>
                <p className="text-xs text-slate-400 uppercase tracking-widest">Proving Divisibility via Geometry</p>
            </div>

            {/* Visualization: Two Triangles side by side */}
            <div className="flex flex-col md:flex-row gap-8 items-center justify-center w-full max-w-4xl">
                
                {/* Black Triangle Math */}
                {renderFactorCols(blackBlocks, 'black', 'Black')}

                {/* The Base Prime */}
                <div className="flex flex-col items-center">
                    <div className="text-4xl font-bold text-yellow-400 mb-1">{n}</div>
                    <div className={`text-xs px-2 py-1 rounded font-bold ${isNPrime ? 'bg-green-900 text-green-400' : 'bg-red-900 text-red-400'}`}>
                        {isNPrime ? "PRIME BASE" : "COMPOSITE BASE"}
                    </div>
                    <div className="h-16 w-px bg-slate-700 my-4"></div>
                    <div className="text-xs text-slate-500 text-center max-w-[150px]">
                        If Base is Prime, it divides both triangles perfectly.
                    </div>
                </div>

                {/* White Triangle Math */}
                {renderFactorCols(whiteBlocks, 'white', 'White')}

            </div>

            {/* Controls */}
            <div className="mt-12 w-full max-w-md bg-slate-900 p-6 rounded-xl border border-slate-800">
                <div className="flex justify-between text-sm mb-4">
                    <span className="text-slate-400">Grid Size</span>
                    <span className="font-bold text-yellow-400">{n} x {n}</span>
                </div>
                <input 
                    type="range" min="3" max="31" step="2" value={n} 
                    onChange={(e) => setN(parseInt(e.target.value))}
                    className="w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-yellow-400"
                />
                <div className="flex justify-between text-[10px] text-slate-500 mt-2">
                    <span>3</span>
                    <span>31</span>
                </div>
                
                <div className="mt-6 text-center text-xs text-slate-400 leading-relaxed">
                    Try <strong>11</strong> (Your Image): 66 & 55. Both div by 11.<br/>
                    Try <strong>13</strong>: 91 & 78. Both div by 13.<br/>
                    Try <strong>9</strong> (Composite): 45 & 36. Div by 9? Yes, but 9 is $3^2$.<br/>
                    <span className="text-yellow-500/50 italic">The structure holds for odd numbers, but uniquely identifies the prime factor.</span>
                </div>
            </div>

        </div>
    );
};

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);

</script>
</body>
</html>

