<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Layer 7 Deep Dive</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { background-color: #0f172a; color: white; font-family: 'Courier New', monospace; }
        .arm-anim { animation: slideIn 1s ease-out forwards; opacity: 0; }
        .pivot-anim { animation: popIn 0.5s ease-out 1s forwards; opacity: 0; transform: scale(0); }
        .grid-anim { animation: fadeIn 1s ease-out 1.5s forwards; opacity: 0; }
        
        @keyframes slideIn { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes popIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">

const App = () => {
    const layer = 7;
    const armLength = layer - 1; // 6
    const gnomon = 2 * layer - 1; // 13
    const area = layer * layer; // 49

    const renderGrid = () => {
        let grid = [];
        for (let y = 0; y < layer; y++) {
            let row = [];
            for (let x = 0; x < layer; x++) {
                
                // Logic to color the parts
                const isRim = (x === layer - 1) || (y === layer - 1);
                const isCorner = (x === layer - 1) && (y === layer - 1);
                const isVertical = (x === layer - 1) && (y < layer - 1);
                const isHorizontal = (y === layer - 1) && (x < layer - 1);
                
                let cellClass = "w-10 h-10 border border-slate-800 flex items-center justify-center font-bold text-xs transition-all";
                let content = "";
                
                if (isCorner) {
                    cellClass += " bg-yellow-500 text-black pivot-anim z-20 shadow-[0_0_15px_#eab308]";
                    content = "1";
                } else if (isVertical) {
                    cellClass += " bg-blue-600 text-white arm-anim";
                    content = "V";
                } else if (isHorizontal) {
                    cellClass += " bg-blue-600 text-white arm-anim";
                    content = "H";
                } else {
                    // The Inner 6x6 Square (36 blocks)
                    cellClass += " bg-slate-800 text-slate-600 grid-anim";
                }

                row.push(<div key={`${x}-${y}`} className={cellClass}>{content}</div>);
            }
            grid.push(<div key={y} className="flex">{row}</div>);
        }
        return grid;
    };

    return (
        <div className="min-h-screen flex flex-col items-center justify-center bg-slate-950 p-4">
            
            <div className="mb-8 text-center space-y-2">
                <h1 className="text-3xl font-bold tracking-widest text-white">THE <span className="text-yellow-500">13th</span> RIM</h1>
                <p className="text-xs text-slate-400">Analyzing Layer 7</p>
            </div>

            <div className="flex flex-col md:flex-row gap-12 items-center">
                
                {/* The Grid Visual */}
                <div className="relative p-4 bg-slate-900 rounded-xl border border-slate-800 shadow-2xl">
                    <div className="flex flex-col">
                        {renderGrid()}
                    </div>
                    
                    {/* Annotations */}
                    <div className="absolute -left-8 top-1/2 -translate-y-1/2 text-blue-400 font-bold -rotate-90 text-xs tracking-widest">
                        6 VERTICAL
                    </div>
                    <div className="absolute -bottom-6 left-1/2 -translate-x-1/2 text-blue-400 font-bold text-xs tracking-widest">
                        6 HORIZONTAL
                    </div>
                </div>

                {/* The Math Breakdown */}
                <div className="space-y-6 w-64">
                    
                    <div className="bg-slate-900 p-4 rounded border-l-4 border-blue-500">
                        <div className="text-xs text-slate-500 uppercase">Your Observation</div>
                        <div className="flex justify-between items-baseline mt-1">
                            <span className="text-xl font-mono text-blue-400">6 + 6 + 1</span>
                            <span className="text-3xl font-bold text-white">= 13</span>
                        </div>
                        <div className="text-[10px] text-slate-400 mt-1">The Gnomon (Rim)</div>
                    </div>

                    <div className="bg-slate-900 p-4 rounded border-l-4 border-yellow-500">
                        <div className="text-xs text-slate-500 uppercase">The Result</div>
                        <div className="flex justify-between items-baseline mt-1">
                            <span className="text-xl font-mono text-yellow-500">7 x 7</span>
                            <span className="text-3xl font-bold text-white">= 49</span>
                        </div>
                        <div className="text-[10px] text-slate-400 mt-1">Total Blocks</div>
                    </div>

                    <div className="text-[10px] text-slate-500 text-center pt-4 border-t border-slate-800">
                        <p>
                            Note: 13 is <span className="text-blue-400 font-bold">Prime</span>.<br/>
                            49 is <span className="text-orange-400 font-bold">Composite</span> ($7^2$).
                        </p>
                    </div>

                </div>

            </div>
        </div>
    );
};

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);

</script>
</body>
</html>

