<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prime Cornerstone Balance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { background-color: #0f172a; color: white; font-family: 'Courier New', monospace; }
        .pivot-anim { animation: pulse 2s infinite; }
        @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); } 70% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); } 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); } }
    </style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">

const App = () => {
    const [currentNum, setCurrentNum] = React.useState(5);
    
    const checkPrime = (num) => {
        if (num <= 1) return false;
        if (num <= 3) return true;
        if (num % 2 === 0 || num % 3 === 0) return false;
        for (let i = 5; i * i <= num; i += 6) {
            if (num % i === 0 || num % (i + 2) === 0) return false;
        }
        return true;
    };

    const isPrime = checkPrime(currentNum);
    const armLength = (currentNum - 1) / 2; // How many blocks on each side

    const renderBalance = () => {
        let grid = [];
        const size = armLength + 1; // Size of the bounding box

        // We want to render just ONE layer as an L-shape
        // The "Corner" is at (armLength, armLength) in a local coordinate system
        
        for (let y = 0; y <= armLength; y++) {
            let row = [];
            for (let x = 0; x <= armLength; x++) {
                
                // The L-Shape Logic for a single isolated layer:
                // It exists if x == armLength OR y == armLength
                // (We are drawing it in the bottom-right corner of a box)
                
                const isCorner = (x === armLength && y === armLength);
                const isVerticalArm = (x === armLength && y < armLength);
                const isHorizontalArm = (y === armLength && x < armLength);
                
                let cellClass = "w-10 h-10 border border-slate-800 bg-transparent opacity-20"; // Empty space
                let content = "";

                if (isCorner) {
                    // THE DIAGONAL PIVOT
                    cellClass = "w-10 h-10 border border-white bg-blue-500 pivot-anim z-20 relative";
                    content = "C";
                } else if (isVerticalArm) {
                    // Left/Top Arm
                    cellClass = "w-10 h-10 border border-blue-800 bg-blue-900/50";
                } else if (isHorizontalArm) {
                    // Right/Bottom Arm
                    cellClass = "w-10 h-10 border border-blue-800 bg-blue-900/50";
                }
                
                // Diagonal Line Visualization
                if (x === y && !isCorner) {
                    cellClass += " bg-white/5"; // Faint diagonal trace
                }

                row.push(
                    <div key={`${x}-${y}`} className={`flex items-center justify-center ${cellClass}`}>
                        {isCorner && <span className="text-[10px] font-bold">PIVOT</span>}
                    </div>
                );
            }
            grid.push(<div key={y} className="flex">{row}</div>);
        }
        return grid;
    };

    return (
        <div className="min-h-screen flex flex-col items-center justify-center p-4 bg-slate-950">
            
            <div className="mb-8 text-center">
                <h1 className="text-2xl font-bold tracking-widest text-white mb-2">THE <span className="text-blue-500">PIVOT</span> POINT</h1>
                <p className="text-xs text-slate-400 max-w-md mx-auto">
                    Primes are odd, so they balance perfectly on the diagonal.
                </p>
            </div>

            <div className="flex flex-col md:flex-row items-center gap-12">
                
                {/* The Visual */}
                <div className="relative p-8 border border-slate-800 rounded-xl bg-slate-900 shadow-2xl">
                    
                    {/* Diagonal Line Overlay */}
                    <div className="absolute top-0 left-0 w-full h-full pointer-events-none overflow-hidden">
                        <div className="w-[200%] h-[1px] bg-blue-500/30 absolute top-0 left-0 origin-top-left rotate-45 transform translate-y-[0px]"></div>
                    </div>

                    <div className="flex flex-col gap-0">
                        {renderBalance()}
                    </div>

                    <div className="absolute -right-4 top-1/2 transform -translate-y-1/2 translate-x-full text-left w-32">
                        <div className="text-xs text-slate-500 mb-1">Vertical Arm</div>
                        <div className="text-xl font-bold text-blue-400">{armLength}</div>
                    </div>
                    
                    <div className="absolute bottom-0 left-1/2 transform translate-y-full -translate-x-1/2 text-center h-16 pt-2">
                        <div className="text-xl font-bold text-blue-400">{armLength}</div>
                        <div className="text-xs text-slate-500">Horizontal Arm</div>
                    </div>

                </div>

                {/* Controls */}
                <div className="w-64 space-y-6">
                    
                    <div className="bg-slate-900 p-4 rounded border-l-4 border-blue-500">
                        <div className="text-xs text-slate-500 uppercase mb-1">Current Odd Number</div>
                        <div className="text-4xl font-bold text-white">{currentNum}</div>
                        <div className="mt-2 text-[10px] text-slate-400">
                            {armLength} + {armLength} + <span className="text-blue-400 font-bold">1 (Pivot)</span> = {currentNum}
                        </div>
                    </div>

                    <div className="flex gap-2">
                        <button 
                            onClick={() => setCurrentNum(Math.max(3, currentNum - 2))}
                            className="flex-1 py-3 bg-slate-800 hover:bg-slate-700 rounded font-bold text-slate-300"
                        >
                            - Smaller
                        </button>
                        <button 
                            onClick={() => setCurrentNum(currentNum + 2)}
                            className="flex-1 py-3 bg-blue-600 hover:bg-blue-500 rounded font-bold text-white shadow-lg shadow-blue-900/20"
                        >
                            + Larger
                        </button>
                    </div>

                    {/* Status */}
                    <div className={`text-center p-2 rounded font-bold text-xs ${isPrime ? 'text-green-400 bg-green-900/20' : 'text-orange-400 bg-orange-900/20'}`}>
                        {isPrime ? "PRIME (Balanced)" : "COMPOSITE (Balanced)"}
                    </div>
                    
                    <p className="text-[10px] text-slate-500 text-center">
                        Notice: Even numbers cannot form this shape because they have no single center block.
                    </p>

                </div>
            </div>
        </div>
    );
};

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);

</script>
</body>
</html>

