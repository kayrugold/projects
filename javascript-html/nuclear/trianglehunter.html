<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Forbidden Triangle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { background-color: #0f172a; color: white; font-family: 'Courier New', monospace; }
        .ball { transition: all 0.3s ease; }
        .glow-success { box-shadow: 0 0 20px #22c55e; }
        .glow-fail { box-shadow: 0 0 20px #ef4444; }
    </style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">

const App = () => {
    const [rows, setRows] = React.useState(2);

    // Calculate Total Blocks (Triangular Number)
    const total = (rows * (rows + 1)) / 2;

    // Prime Check
    const isPrime = (num) => {
        if (num <= 1) return false;
        if (num <= 3) return true;
        if (num % 2 === 0 || num % 3 === 0) return false;
        for (let i = 5; i * i <= num; i += 6) {
            if (num % i === 0 || num % (i + 2) === 0) return false;
        }
        return true;
    };

    const isTotalPrime = isPrime(total);

    const renderTriangle = () => {
        let grid = [];
        
        // We render rows from top (1) to bottom (rows)
        for (let r = 1; r <= rows; r++) {
            let rowBalls = [];
            for (let c = 0; c < r; c++) {
                rowBalls.push(
                    <div 
                        key={`${r}-${c}`}
                        className={`
                            w-6 h-6 rounded-full flex items-center justify-center text-[8px] font-bold border
                            ${isTotalPrime ? 'bg-green-500 border-green-400 text-black' : 'bg-red-500 border-red-400 text-white'}
                            ball
                        `}
                    >
                    </div>
                );
            }
            grid.push(
                <div key={r} className="flex gap-2 justify-center animate-[fadeIn_0.3s]">
                    {rowBalls}
                </div>
            );
        }
        return grid;
    };

    return (
        <div className="min-h-screen flex flex-col items-center justify-center bg-slate-950 p-4">
            
            <div className="text-center mb-8">
                <h1 className="text-2xl font-bold text-white mb-2">THE <span className="text-red-500">FORBIDDEN</span> SHAPE</h1>
                <p className="text-xs text-slate-400">Why Primes refuse to be Triangles</p>
            </div>

            <div className="w-full max-w-2xl flex flex-col md:flex-row items-center gap-12">
                
                {/* VISUALIZER */}
                <div className={`
                    relative p-8 rounded-2xl border-2 transition-all duration-500 flex flex-col gap-2 items-center min-h-[300px] min-w-[300px] justify-center
                    ${isTotalPrime ? 'border-green-500 bg-green-900/20 glow-success' : 'border-red-500 bg-red-900/10 glow-fail'}
                `}>
                    {renderTriangle()}

                    {/* Status Badge */}
                    <div className={`
                        absolute -bottom-4 px-6 py-2 rounded-full font-bold text-sm border shadow-xl
                        ${isTotalPrime ? 'bg-green-500 text-black border-green-400' : 'bg-red-600 text-white border-red-500'}
                    `}>
                        Total: {total} ({isTotalPrime ? 'PRIME!' : 'Composite'})
                    </div>
                </div>

                {/* EXPLANATION & CONTROLS */}
                <div className="w-64 space-y-6">
                    
                    <div className="bg-slate-900 p-4 rounded border-l-4 border-slate-700">
                        <div className="text-[10px] uppercase font-bold text-slate-500 mb-2">The Rule</div>
                        <p className="text-xs text-slate-300 leading-relaxed">
                            Every staircase represents the formula <span className="font-mono text-yellow-400">n(n+1)/2</span>.
                        </p>
                        <p className="text-xs text-slate-300 leading-relaxed mt-2">
                            Because this formula multiplies consecutive numbers, the result is almost always <strong>Composite</strong>.
                        </p>
                    </div>

                    <div className="pt-4">
                        <label className="text-[10px] uppercase font-bold text-slate-500">Triangle Size (Rows)</label>
                        <input 
                            type="range" min="2" max="15" value={rows} 
                            onChange={(e) => setRows(parseInt(e.target.value))}
                            className="w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-yellow-400 mt-2"
                        />
                        <div className="flex justify-between text-xs text-slate-400 mt-1">
                            <span>2</span>
                            <span>15</span>
                        </div>
                    </div>
                    
                    <div className="text-center">
                        <p className="text-[10px] text-slate-500 italic">
                            Try to find another green one.<br/>(Spoiler: You can't.)
                        </p>
                    </div>

                </div>
            </div>

        </div>
    );
};

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);

</script>
</body>
</html>

